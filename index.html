<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MissÃ£o Idiomas</title>

<style>
*{box-sizing:border-box}
html,body{
  margin:0;height:100%;width:100%;
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;
  background:#eef1f5
}
header{
  background:linear-gradient(90deg,#0b1f3a,#002654);
  color:#fff;
  text-align:center;
  padding:18px;
  font-size:26px;
  font-weight:700
}
#app{
  height:calc(100% - 70px);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:14px
}
.card{
  width:100%;
  max-width:520px;
  height:100%;
  max-height:760px;
  background:#fff;
  border-radius:26px;
  padding:22px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  box-shadow:0 25px 60px rgba(0,0,0,.25)
}
h1{margin:10px 0}
#question{
  font-size:28px;
  font-weight:700;
  text-align:center;
  margin:18px 0
}
.option{
  width:100%;
  padding:16px;
  margin-bottom:10px;
  font-size:20px;
  border-radius:16px;
  border:none;
  background:linear-gradient(135deg,#1e90ff,#42a5f5);
  color:white;
  transition:.25s
}
.option:active{transform:scale(.96)}
.correct{background:linear-gradient(135deg,#43a047,#66bb6a)!important}
.wrong{
  background:linear-gradient(135deg,#e53935,#ef5350)!important;
  animation:shake .3s
}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}
#listen{
  background:linear-gradient(135deg,#ff5252,#ff1744);
  color:white;
  padding:14px;
  border-radius:16px;
  border:none;
  font-size:18px
}
.progress{
  width:100%;
  height:10px;
  background:#ddd;
  border-radius:6px;
  overflow:hidden;
  margin:10px 0
}
.progress div{
  height:100%;
  width:0%;
  background:#4caf50;
  transition:.3s
}
.big{
  width:100%;
  padding:22px;
  font-size:26px;
  border-radius:22px;
  border:none;
  font-weight:700;
  margin-top:14px
}
.en{background:#1e90ff;color:white}
.fr{background:#002654;color:white}
#start,#next{
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center
}
#start{
  background:linear-gradient(135deg,#002654,#ffffff,#ed2939)
}
.confetti{
  position:fixed;
  width:10px;
  height:10px;
  animation:fall 3s linear forwards
}
@keyframes fall{
  to{transform:translateY(100vh) rotate(360deg);opacity:0}
}
</style>
</head>

<body>

<header>MissÃ£o Idiomas ğŸŒ</header>

<div id="app">

<div id="start">
  <h1 style="font-size:44px">ğŸ® MissÃ£o Idiomas</h1>
  <p style="font-size:22px">Aprenda jogando</p>
  <button class="big en" onclick="startGame('en')">ğŸ‡¬ğŸ‡§ InglÃªs</button>
  <button class="big fr" onclick="startGame('fr')">ğŸ‡«ğŸ‡· FrancÃªs</button>
</div>

<div id="game" style="display:none;width:100%;height:100%">
  <div class="card">
    <button id="listen" onclick="speak()">ğŸ”Š Ouvir pronÃºncia</button>

    <div class="progress"><div id="bar"></div></div>

    <div id="question"></div>

    <button class="option" id="o0" onclick="answer(0)"></button>
    <button class="option" id="o1" onclick="answer(1)"></button>
    <button class="option" id="o2" onclick="answer(2)"></button>
    <button class="option" id="o3" onclick="answer(3)"></button>

    <div style="text-align:center;font-size:18px">
      Acertos: <span id="score">0</span>/20
    </div>
  </div>
</div>

<div id="next" style="display:none">
  <h1>ğŸ‰ ParabÃ©ns!</h1>
  <p id="msg"></p>
  <button class="big fr" onclick="nextLevel()">Iniciar prÃ³ximo nÃ­vel</button>
</div>

</div>

<script>
const sounds={
 ok:new Audio("https://actions.google.com/sounds/v1/cartoon/pop.ogg"),
 err:new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg")
};

let lang="",level=1,current=0,score=0,questions=[],correct=0;

const data={
 en:{
  voice:"en-US",
  levels:[
   /* NÃVEL 1 */
   [
    {q:"Hello",a:["OlÃ¡","Obrigado","Tchau","Por favor"],c:0},
    {q:"Good morning",a:["Bom dia","Boa noite","Boa tarde","OlÃ¡"],c:0},
    {q:"Good night",a:["Boa noite","Bom dia","Boa tarde","OlÃ¡"],c:0},
    {q:"Thank you",a:["Obrigado","Por favor","Oi","Tchau"],c:0},
    {q:"Please",a:["Por favor","Obrigado","Oi","Tchau"],c:0},
    {q:"I am tired",a:["Estou cansado","Estou feliz","Estou com fome","Estou bem"],c:0},
    {q:"I am hungry",a:["Estou com fome","Estou cansado","Estou feliz","Estou bem"],c:0},
    {q:"Where is the bathroom?",a:["Onde fica o banheiro?","Onde Ã© o hotel?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"How much is this?",a:["Quanto custa isso?","Onde fica?","Que horas sÃ£o?","Posso ajudar?"],c:0},
    {q:"Excuse me",a:["Com licenÃ§a","Obrigado","Por favor","Oi"],c:0},
    {q:"I donâ€™t understand",a:["NÃ£o entendo","Entendi","Talvez","Estou bem"],c:0},
    {q:"I understand",a:["Eu entendo","Eu esqueÃ§o","Talvez","Eu preciso"],c:0},
    {q:"Goodbye",a:["AtÃ© logo","Bom dia","Boa noite","OlÃ¡"],c:0},
    {q:"Welcome",a:["Bem-vindo","Boa noite","AtÃ© logo","OlÃ¡"],c:0},
    {q:"Good luck",a:["Boa sorte","Boa viagem","Boa noite","OlÃ¡"],c:0},
    {q:"No problem",a:["Sem problema","Com problema","Talvez","Nunca"],c:0},
    {q:"All right",a:["Tudo bem","Talvez","NÃ£o","Nunca"],c:0},
    {q:"What time is it?",a:["Que horas sÃ£o?","Onde fica?","Quanto custa?","Posso ajudar?"],c:0},
    {q:"I am lost",a:["Estou perdido","Estou bem","Estou feliz","Estou cansado"],c:0},
    {q:"See you later",a:["AtÃ© mais","Bom dia","Boa noite","OlÃ¡"],c:0}
   ],
   /* NÃVEL 2 */
   [
    {q:"I need help",a:["Eu preciso de ajuda","Eu estou perdido","Eu entendo","Eu gosto"],c:0},
    {q:"Can you help me?",a:["VocÃª pode me ajudar?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I like this place",a:["Eu gosto deste lugar","Eu nÃ£o entendo","Eu estou cansado","Eu preciso sair"],c:0},
    {q:"I donâ€™t like this",a:["Eu nÃ£o gosto disso","Eu gosto disso","Talvez","Nunca"],c:0},
    {q:"I am looking for a hotel",a:["Estou procurando um hotel","Estou cansado","Estou com fome","Estou bem"],c:0},
    {q:"How can I get there?",a:["Como posso chegar lÃ¡?","Quanto custa?","Que horas sÃ£o?","Onde fica?"],c:0},
    {q:"I want to eat",a:["Eu quero comer","Eu quero dormir","Eu quero sair","Eu quero trabalhar"],c:0},
    {q:"I want to drink water",a:["Eu quero beber Ã¡gua","Eu quero comer","Eu quero sair","Eu quero dormir"],c:0},
    {q:"What do you recommend?",a:["O que vocÃª recomenda?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I am very happy",a:["Estou muito feliz","Estou cansado","Estou triste","Estou doente"],c:0},
    {q:"I am sad",a:["Estou triste","Estou feliz","Estou cansado","Estou bem"],c:0},
    {q:"I am sick",a:["Estou doente","Estou bem","Estou feliz","Estou cansado"],c:0},
    {q:"Can I pay by card?",a:["Posso pagar com cartÃ£o?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I need a taxi",a:["Eu preciso de um tÃ¡xi","Eu preciso de ajuda","Eu preciso comer","Eu preciso dormir"],c:0},
    {q:"I am waiting for you",a:["Estou esperando por vocÃª","Estou perdido","Estou feliz","Estou cansado"],c:0},
    {q:"See you tomorrow",a:["AtÃ© amanhÃ£","AtÃ© logo","Boa noite","Bom dia"],c:0},
    {q:"Have a nice day",a:["Tenha um bom dia","Boa noite","AtÃ© logo","Boa viagem"],c:0},
    {q:"I agree",a:["Eu concordo","Eu discordo","Talvez","Nunca"],c:0},
    {q:"I donâ€™t agree",a:["Eu nÃ£o concordo","Eu concordo","Talvez","Nunca"],c:0},
    {q:"Thatâ€™s perfect",a:["Isso Ã© perfeito","Isso Ã© ruim","Talvez","Nunca"],c:0}
   ],
   /* NÃVEL 3 â€“ CONVERSAÃ‡ÃƒO */
   [
    {q:"Can you speak more slowly, please?",a:["VocÃª pode falar mais devagar, por favor?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I am learning English",a:["Estou aprendendo inglÃªs","Eu falo inglÃªs","Eu esqueÃ§o inglÃªs","Eu odeio inglÃªs"],c:0},
    {q:"I would like to order food",a:["Eu gostaria de pedir comida","Eu quero pagar","Eu quero sair","Eu quero dormir"],c:0},
    {q:"Could you repeat that?",a:["VocÃª pode repetir isso?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I donâ€™t speak English very well",a:["Eu nÃ£o falo inglÃªs muito bem","Eu falo inglÃªs perfeitamente","Eu nÃ£o gosto de inglÃªs","Eu esqueÃ§o inglÃªs"],c:0},
    {q:"I am here on vacation",a:["Estou aqui de fÃ©rias","Estou aqui a trabalho","Estou perdido","Estou cansado"],c:0},
    {q:"How long will it take?",a:["Quanto tempo vai levar?","Quanto custa?","Onde fica?","Que horas sÃ£o?"],c:0},
    {q:"What do you do for work?",a:["O que vocÃª faz no trabalho?","Onde vocÃª mora?","Que horas sÃ£o?","Quanto custa?"],c:0},
    {q:"I live in Brazil",a:["Eu moro no Brasil","Eu moro aqui","Eu moro longe","Eu moro perto"],c:0},
    {q:"Nice to meet you",a:["Prazer em conhecer vocÃª","AtÃ© logo","Boa noite","Bom dia"],c:0},
    {q:"Where are you from?",a:["De onde vocÃª Ã©?","Onde vocÃª mora?","Que horas sÃ£o?","Quanto custa?"],c:0},
    {q:"I am enjoying my trip",a:["Estou aproveitando minha viagem","Estou cansado","Estou triste","Estou doente"],c:0},
    {q:"Can we talk later?",a:["Podemos conversar mais tarde?","Onde fica?","Quanto custa?","Que horas sÃ£o?"],c:0},
    {q:"I need to practice more",a:["Eu preciso praticar mais","Eu sei tudo","Eu nÃ£o preciso estudar","Eu desisto"],c:0},
    {q:"I feel confident now",a:["Eu me sinto confiante agora","Eu estou nervoso","Eu estou perdido","Eu estou cansado"],c:0},
    {q:"Thank you for your help",a:["Obrigado pela sua ajuda","AtÃ© logo","Boa noite","Bom dia"],c:0},
    {q:"That sounds good",a:["Isso parece bom","Isso Ã© ruim","Talvez","Nunca"],c:0},
    {q:"I will come back soon",a:["Eu vou voltar em breve","Eu vou embora","Eu fico aqui","Eu nÃ£o sei"],c:0},
    {q:"Letâ€™s keep in touch",a:["Vamos manter contato","AtÃ© logo","Boa noite","Bom dia"],c:0},
    {q:"See you next time",a:["AtÃ© a prÃ³xima","AtÃ© logo","Boa noite","Bom dia"],c:0}
   ]
  ]
 }
};

// FRANCÃŠS (estrutura idÃªntica)
data.fr = JSON.parse(JSON.stringify(data.en));
data.fr.voice="fr-FR";
data.fr.levels[0].forEach(q=>q.q = ({
 "Hello":"Bonjour",
 "Good morning":"Bonjour",
 "Good night":"Bonne nuit",
 "Thank you":"Merci",
 "Please":"Sâ€™il vous plaÃ®t",
 "I am tired":"Je suis fatiguÃ©",
 "I am hungry":"Jâ€™ai faim",
 "Where is the bathroom?":"OÃ¹ est la salle de bain ?",
 "How much is this?":"Combien Ã§a coÃ»te ?",
 "Excuse me":"Excusez-moi",
 "I donâ€™t understand":"Je ne comprends pas",
 "I understand":"Je comprends",
 "Goodbye":"Au revoir",
 "Welcome":"Bienvenue",
 "Good luck":"Bonne chance",
 "No problem":"Pas de problÃ¨me",
 "All right":"Dâ€™accord",
 "What time is it?":"Quelle heure est-il ?",
 "I am lost":"Je suis perdu",
 "See you later":"Ã€ plus tard"
}[q.q] || q.q));

let lang="",level=1,current=0,score=0,questions=[],correct=0;

function startGame(l){
 lang=l;level=1;current=0;score=0;
 questions=data[lang].levels[0];
 document.getElementById("start").style.display="none";
 document.getElementById("game").style.display="block";
 load();
}
function load(){
 let q=questions[current];
 document.getElementById("question").innerText=q.q;
 let opts=q.a.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5);
 correct=opts.findIndex(o=>o.i===q.c);
 opts.forEach((o,i)=>{
  let b=document.getElementById("o"+i);
  b.innerText=o.t;
  b.className="option";
 });
 document.getElementById("score").innerText=score;
 document.getElementById("bar").style.width=((current)/20*100)+"%";
}
function answer(i){
 let ok=i===correct;
 sounds[ok?"ok":"err"].play();
 if(navigator.vibrate) navigator.vibrate(ok?80:250);
 document.getElementById("o"+i).classList.add(ok?"correct":"wrong");
 if(ok) score++;
 setTimeout(()=>{
  current++;
  current<questions.length?load():finish();
 },600);
}
function finish(){
 document.getElementById("game").style.display="none";
 document.getElementById("next").style.display="flex";
 document.getElementById("msg").innerText=
  score>=12?"VocÃª desbloqueou o prÃ³ximo nÃ­vel!":"VocÃª precisa de 12 acertos para avanÃ§ar.";
 if(score>=12) confetti();
}
function nextLevel(){
 level++;
 if(level>3){location.reload();return}
 score=0;current=0;
 questions=data[lang].levels[level-1];
 document.getElementById("next").style.display="none";
 document.getElementById("game").style.display="block";
 load();
}
function speak(){
 let u=new SpeechSynthesisUtterance(questions[current].q);
 u.lang=data[lang].voice;
 speechSynthesis.speak(u);
}
function confetti(){
 for(let i=0;i<120;i++){
  let c=document.createElement("div");
  c.className="confetti";
  c.style.left=Math.random()*100+"%";
  c.style.background=`hsl(${Math.random()*360},100%,50%)`;
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),3000);
 }
}
</script>

</body>
</html>
