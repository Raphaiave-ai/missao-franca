<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Miss√£o Fran√ßa üá´üá∑</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  min-height: 100vh;
}

/* ================= TELA INICIAL ================= */
#start {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  background: linear-gradient(120deg, #002654, #ffffff, #ed2939);
  background-size: 400% 400%;
  animation: france 8s ease infinite;
}

@keyframes france {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#start h1 {
  font-size: 48px;
  margin-bottom: 16px;
  color: #0a1f44;
  text-shadow: 0 3px 6px rgba(0,0,0,.3);
}

#start p {
  font-size: 22px;
  margin-bottom: 40px;
  color: #111;
}

#start button {
  padding: 22px 50px;
  font-size: 24px;
  border: none;
  border-radius: 40px;
  background: #0a1f44;
  color: white;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0,0,0,.35);
}

/* ================= HEADER ================= */
header {
  width: 100%;
  background: #0a1f44;
  color: white;
  padding: 16px;
  text-align: center;
  font-size: 22px;
}

/* ================= CENTRALIZA√á√ÉO REAL ================= */
#game {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.game-wrapper {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ================= CARD ================= */
.container {
  width: 100%;
  max-width: 420px;
  background: white;
  padding: 22px;
  border-radius: 18px;
  box-shadow: 0 8px 22px rgba(0,0,0,.15);
  text-align: center;
}

button {
  width: 100%;
  padding: 14px;
  margin: 8px 0;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  cursor: pointer;
}

.btn-audio {
  background: #ff4d4d;
  color: white;
}

.btn {
  background: #1da1f2;
  color: white;
}

.correct { background: #2ecc71 !important; }
.wrong { background: #e74c3c !important; }

.fade {
  animation: pulse .35s;
}
@keyframes pulse {
  from { transform: scale(.95); opacity: .6; }
  to { transform: scale(1); opacity: 1; }
}

.status {
  margin-top: 14px;
  font-size: 14px;
}
</style>
</head>

<body>

<!-- TELA INICIAL -->
<div id="start">
  <h1>üéÆ Miss√£o Fran√ßa üá´üá∑</h1>
  <p>Aprenda franc√™s do zero jogando</p>
  <button onclick="iniciar()">‚ñ∂Ô∏è INICIAR ESTUDO</button>
</div>

<!-- JOGO -->
<div id="game" style="display:none;">
<header>Miss√£o Fran√ßa üá´üá∑</header>

<div class="game-wrapper">
  <div class="container" id="card">
    <button class="btn-audio" onclick="ouvir()">üîä Ouvir pron√∫ncia</button>
    <h3 id="pergunta"></h3>
    <div id="opcoes"></div>

    <div class="status">
      <div id="nivel"></div>
      <div id="xp"></div>
      <div id="conquistas"></div>
      <div id="stats"></div>
    </div>
  </div>
</div>
</div>

<script>
function iniciar(){
  document.getElementById("start").style.display="none";
  document.getElementById("game").style.display="flex";
}

/* ===== DADOS ===== */
const iniciante = [
 {fr:"Je suis",pt:"Eu sou"},
 {fr:"J'ai",pt:"Eu tenho"},
 {fr:"Je veux",pt:"Eu quero"},
 {fr:"Je peux",pt:"Eu posso"},
 {fr:"Je vais",pt:"Eu vou"},
 {fr:"C'est",pt:"√â"},
 {fr:"O√π est",pt:"Onde est√°"},
 {fr:"Il y a",pt:"Existe"},
 {fr:"Je comprends",pt:"Eu entendo"},
 {fr:"Je ne sais pas",pt:"N√£o sei"},
 {fr:"J'aime",pt:"Eu gosto"},
 {fr:"Je parle",pt:"Eu falo"}
];

const frases = [
 {fr:"Pouvez-vous m'aider?",pt:"Voc√™ pode me ajudar?"},
 {fr:"O√π est la gare?",pt:"Onde fica a esta√ß√£o?"},
 {fr:"Je suis fatigu√©",pt:"Estou cansado"},
 {fr:"Je voudrais de l'eau",pt:"Eu gostaria de √°gua"},
 {fr:"Combien √ßa co√ªte?",pt:"Quanto custa?"},
 {fr:"Je parle un peu fran√ßais",pt:"Falo um pouco de franc√™s"}
];

let acertos = Number(localStorage.getItem("acertos")) || 0;
let hoje = new Date().toLocaleDateString();
let stats = JSON.parse(localStorage.getItem("stats") || "{}");
stats[hoje] = stats[hoje] || 0;

function banco(){ return acertos < 25 ? iniciante : frases; }

function novaPergunta(){
  const lista = banco();
  const q = lista[Math.floor(Math.random()*lista.length)];
  document.getElementById("pergunta").innerText =
    (acertos<25?"(Iniciante) ":"(Frases) ")+q.fr;

  let op=[...lista].sort(()=>.5-Math.random()).slice(0,3);
  if(!op.includes(q)) op[0]=q;

  const div=document.getElementById("opcoes");
  div.innerHTML="";
  op.sort(()=>.5-Math.random()).forEach(o=>{
    let b=document.createElement("button");
    b.className="btn";
    b.innerText=o.pt;
    b.onclick=()=>responder(o.pt===q.pt,b);
    div.appendChild(b);
  });

  window.atual=q;
  atualizar();
}

function responder(ok,btn){
  const card=document.getElementById("card");
  btn.classList.add(ok?"correct":"wrong");
  if(ok){ acertos++; stats[hoje]++; }
  localStorage.setItem("acertos",acertos);
  localStorage.setItem("stats",JSON.stringify(stats));
  card.classList.add("fade");
  setTimeout(()=>{card.classList.remove("fade");novaPergunta();},350);
}

function atualizar(){
  document.getElementById("xp").innerText="Acertos: "+acertos;
  document.getElementById("nivel").innerText=
    acertos<25?"Modo Iniciante":"Modo Frases";
  let c=[];
  if(acertos>=10)c.push("ü•â");
  if(acertos>=25)c.push("ü•à");
  if(acertos>=50)c.push("ü•á");
  document.getElementById("conquistas").innerText=
    c.length?"Conquistas: "+c.join(" "):"";
  document.getElementById("stats").innerText=
    "Hoje: "+stats[hoje]+" acertos";
}

function ouvir(){
  let u=new SpeechSynthesisUtterance(atual.fr);
  u.lang="fr-FR";
  speechSynthesis.speak(u);
}

novaPergunta();
</script>

</body>
</html>
