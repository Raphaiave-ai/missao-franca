<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>MissÃ£o FranÃ§a ðŸ‡«ðŸ‡·</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f0f0f0;
}

header {
  background: #0a1f44;
  color: white;
  padding: 15px;
  text-align: center;
  font-size: 22px;
}

.container {
  max-width: 420px;
  margin: 25px auto;
  background: white;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,.1);
  text-align: center;
}

button {
  width: 100%;
  padding: 14px;
  margin: 8px 0;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
}

.btn-audio { background: #ff4d4d; color: white; }
.btn { background: #1da1f2; color: white; }

.correct { background: #2ecc71 !important; }
.wrong { background: #e74c3c !important; }

.status {
  margin-top: 10px;
  font-size: 14px;
}

.stats {
  margin-top: 15px;
  font-size: 13px;
  color: #333;
}

.fade {
  animation: fade 0.4s;
}

@keyframes fade {
  from { transform: scale(0.9); opacity: 0.5; }
  to { transform: scale(1); opacity: 1; }
}
</style>
</head>

<body>

<header>MissÃ£o FranÃ§a ðŸ‡«ðŸ‡·</header>

<div class="container" id="card">
  <button class="btn-audio" onclick="ouvir()">ðŸ”Š Ouvir</button>

  <h3 id="pergunta"></h3>

  <div id="opcoes"></div>

  <div class="status">
    <div id="nivel"></div>
    <div id="xp"></div>
    <div id="conquistas"></div>
  </div>

  <div class="stats" id="stats"></div>
</div>

<script>
const iniciante = [
 {fr:"Bonjour",pt:"OlÃ¡"},
 {fr:"Merci",pt:"Obrigado"},
 {fr:"Au revoir",pt:"Tchau"},
 {fr:"S'il vous plaÃ®t",pt:"Por favor"},
 {fr:"Bonsoir",pt:"Boa noite"},
 {fr:"Excusez-moi",pt:"Com licenÃ§a"},
 {fr:"TrÃ¨s bien",pt:"Muito bem"},
 {fr:"Ã€ bientÃ´t",pt:"AtÃ© logo"},
 {fr:"Oui",pt:"Sim"},
 {fr:"Non",pt:"NÃ£o"},
 {fr:"Pardon",pt:"Desculpa"},
 {fr:"Bienvenue",pt:"Bem-vindo"},
 {fr:"Salut",pt:"Oi"},
 {fr:"D'accord",pt:"Ok"},
 {fr:"Merci beaucoup",pt:"Muito obrigado"},
 {fr:"Je comprends",pt:"Eu entendo"},
 {fr:"Je ne comprends pas",pt:"NÃ£o entendo"},
 {fr:"Peut-Ãªtre",pt:"Talvez"},
 {fr:"Toujours",pt:"Sempre"},
 {fr:"Jamais",pt:"Nunca"}
];

const frases = [
 {fr:"Je suis fatiguÃ©",pt:"Estou cansado"},
 {fr:"OÃ¹ est la salle de bain?",pt:"Onde fica o banheiro?"},
 {fr:"Combien Ã§a coÃ»te?",pt:"Quanto custa?"},
 {fr:"Je voudrais de l'eau",pt:"Eu gostaria de Ã¡gua"},
 {fr:"Pouvez-vous m'aider?",pt:"VocÃª pode me ajudar?"},
 {fr:"Je parle un peu franÃ§ais",pt:"Eu falo um pouco de francÃªs"},
 {fr:"C'est trÃ¨s bon",pt:"EstÃ¡ muito bom"},
 {fr:"Je suis perdu",pt:"Estou perdido"},
 {fr:"Ã€ quelle heure?",pt:"Que horas?"},
 {fr:"Je suis d'accord",pt:"Eu concordo"}
];

let acertos = Number(localStorage.getItem("acertos")) || 0;
let hoje = new Date().toLocaleDateString();
let stats = JSON.parse(localStorage.getItem("stats")||"{}");
stats[hoje] = stats[hoje] || 0;

function bancoAtual(){
  return acertos < 50 ? iniciante : frases;
}

function novaPergunta(){
  const banco = bancoAtual();
  const q = banco[Math.floor(Math.random()*banco.length)];
  document.getElementById("pergunta").innerText =
    (acertos<50?"(Iniciante) ":"(Frases) ") + q.fr;

  let opcoes = [...banco].sort(()=>0.5-Math.random()).slice(0,3);
  if(!opcoes.includes(q)) opcoes[0]=q;

  const div = document.getElementById("opcoes");
  div.innerHTML="";
  opcoes.sort(()=>0.5-Math.random()).forEach(o=>{
    let b=document.createElement("button");
    b.className="btn";
    b.innerText=o.pt;
    b.onclick=()=>responder(o.pt===q.pt,b);
    div.appendChild(b);
  });

  window.atual=q;
  atualizarStatus();
}

function responder(ok,btn){
  const card=document.getElementById("card");
  if(ok){
    btn.classList.add("correct");
    acertos++;
    stats[hoje]++;
  }else{
    btn.classList.add("wrong");
  }

  localStorage.setItem("acertos",acertos);
  localStorage.setItem("stats",JSON.stringify(stats));

  card.classList.add("fade");
  setTimeout(()=>{
    card.classList.remove("fade");
    novaPergunta();
  },400);
}

function atualizarStatus(){
  document.getElementById("xp").innerText="Acertos: "+acertos;
  document.getElementById("nivel").innerText=
    acertos<50?"Modo Iniciante":"Modo Frases";
  let c=[];
  if(acertos>=10)c.push("ðŸ¥‰");
  if(acertos>=25)c.push("ðŸ¥ˆ");
  if(acertos>=50)c.push("ðŸ¥‡");
  document.getElementById("conquistas").innerText=
    c.length?"Conquistas: "+c.join(" "):"";

  document.getElementById("stats").innerText=
    "Hoje: "+stats[hoje]+" acertos";
}

function ouvir(){
  let u=new SpeechSynthesisUtterance(atual.fr);
  u.lang="fr-FR";
  speechSynthesis.speak(u);
}

novaPergunta();
</script>

</body>
</html>
